{"version":3,"sources":["services/blogs.js","reducers/blogsReducer.js","theme/styledComponents.js","components/Toggler.js","reducers/alertReducer.js","components/NewBlogForm.js","components/Blogs.js","components/Blog.js","reducers/userReducer.js","components/Navbar.js","components/Header.js","components/Alert.js","services/users.js","reducers/usersReducer.js","services/login.js","components/LoginForm.js","services/signup.js","components/SignUpForm.js","components/UserControl.js","components/Users.js","components/User.js","App.js","store.js","index.js"],"names":["baseUrl","token","blogService","setToken","newToken","getBlogs","a","axios","get","response","data","sort","i","j","likes","createNewBlog","newBlogObj","config","headers","Authorization","post","updateBlog","id","updatedBlogObj","put","deleteBlog","delete","addComment","newCommentObj","blog","dispatch","newBlog","type","payload","console","error","blogsReducer","state","action","concat","filter","map","Container","styled","div","AppHeader","header","AppTitle","span","UserInfo","Button","button","props","white","Input","input","wide","Form","form","inline","InputGroup","Header3","h3","StyledLink","Link","navlink","Main","main","ContentHeader","flex","ContentRow","small","margin","Highlight","AlertMsg","Toggler","React","forwardRef","ref","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","width","handleTogglerClick","e","target","setActiveForm","toggleVisibility","hide","useImperativeHandle","style","buttonId","className","buttonClasses","onClick","buttonLabel","children","cancelId","displayName","activeAlert","setAlert","message","duration","clearTimeout","setTimeout","alertReducer","Label","label","NewBlogForm","togglerRef","useDispatch","newBlogTitle","setNewBlogTitle","newBlogAuthor","setNewBlogAuthor","newBlogUrl","setNewBlogUrl","handleNewBlogFormSubmit","preventDefault","reset","current","title","author","onSubmit","url","onChange","value","Blogs","blogs","useSelector","newBlogFormRef","useRef","to","Blog","useParams","find","user","comment","setComment","handleBlogLikeButton","likedBlog","userId","likeBlog","handleBlogDeleteButton","window","confirm","marginBottom","username","name","comments","content","updatedBlog","commentBlog","placeholder","setUser","userReducer","Nav","nav","Navbar","Header","Alert","alert","alertStyle","backgroundColor","border","userService","getUsers","blogsAdded","length","usersReducer","loginService","logIn","LoginForm","setUsername","password","setPassword","logInHandler","log","signupService","newUser","SignUpForm","setName","signUpHandler","newUserObj","UserControl","activeForm","signUpFormRef","logInFormRef","useEffect","height","Users","users","index","User","App","path","reducers","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c590c8c7.chunk.js","sourcesContent":["import axios from \"axios\"\nconst baseUrl = \"/api/blogs\"\n\n// set user token\nlet token = null\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getBlogs = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data.sort((i,j) => j.likes - i.likes)\n}\n\nconst createNewBlog = async (newBlogObj) => {\n  // console.log(token)\n\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newBlogObj, config)\n  return response.data\n}\n\nconst updateBlog = async (id, updatedBlogObj) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.put(`${baseUrl}/${id}`, updatedBlogObj, config)\n  return response.data\n}\n\nconst deleteBlog = async (id) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\nconst addComment = async (id, newCommentObj) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(`${baseUrl}/${id}/comments`, newCommentObj, config)\n  return response.data\n}\n\nconst blogService = {\n  setToken,\n  getBlogs,\n  createNewBlog,\n  updateBlog,\n  deleteBlog,\n  addComment\n}\n\nexport default blogService","import blogService from \"../services/blogs\"\n\nexport const getBlogs = () => {\n  return async dispatch => {\n    try {\n      const blogs = await blogService.getBlogs()\n      // console.log(blogs)\n      dispatch({\n        type: \"GET_BLOGS\",\n        payload: blogs\n      })\n    }\n    catch(error) {\n      console.error(error)\n    }\n  }\n}\n\nexport const createNewBlog = (blog) => {\n  return async dispatch => {\n    try {\n      const newBlog = await blogService.createNewBlog(blog)\n      dispatch({\n        type: \"CREATE_NEW_BLOG\",\n        payload: newBlog\n      })\n    }\n    catch(error) {\n      console.error(error)\n    }\n  }\n}\n\nexport const deleteBlog = (id) => {\n  return async dispatch => {\n    try {\n      await blogService.deleteBlog(id)\n      dispatch({\n        type: \"DELETE_BLOG\",\n        payload: {\n          id\n        }\n      })\n    }\n    catch(error) {\n      console.error(error)\n    }\n  }\n}\n\nexport const likeBlog = (id, likedBlog) => {\n  return async dispatch => {\n    try {\n      const response = await blogService.updateBlog(id, likedBlog)\n      dispatch({\n        type: \"LIKE_BLOG\",\n        payload: response\n      })\n    }\n    catch(error) {\n      console.error(error)\n    }\n  }\n}\n\nexport const commentBlog = (id, comment) => {\n  return async dispatch => {\n    try {\n      const updatedBlog = await blogService.addComment(id, comment)\n      dispatch({\n        type: \"NEW_COMMENT\",\n        payload: updatedBlog\n      })\n    }\n    catch(error) {\n      console.error(error)\n    }\n  }\n}\n\nconst blogsReducer = (state = [], action) => {\n  switch(action.type) {\n  case \"GET_BLOGS\":\n    return state = action.payload\n\n  case \"CREATE_NEW_BLOG\":\n    return state.concat(action.payload)\n\n  case \"DELETE_BLOG\":\n    return state.filter(blog => blog.id !== action.payload.id)\n\n  case \"LIKE_BLOG\":\n    return state.map(blog => blog.id !== action.payload.id ? blog : action.payload)\n\n  case \"NEW_COMMENT\":\n    return state.map(blog => blog.id !== action.payload.id ? blog : action.payload)\n\n  default:\n    return state\n  }\n}\n\nexport default blogsReducer","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\"\n\nexport const Container = styled.div`\n  background-color: #f5f5f5;\n  width: 70%;\n  padding: 10px;\n  margin-top: 10px;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 10px;\n  @media (max-width: 1024px) {\n    width: 85%;\n  }\n  @media (max-width: 768px) {\n    width: 95%;\n  }\n`\n\nexport const AppHeader = styled.header`\n  display: flex;\n  align-items: center;\n  border-bottom: 2px solid white;\n  width: 100%;\n  padding: 5px;\n  margin: 10px 0px;\n  @media (max-width: 600px) {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n`\n\nexport const AppTitle = styled.span`\n  font-size: 24px;\n  margin-right: 10px;\n  padding-right: 10px;\n  border-right: 1px solid lightgray;\n  @media (max-width: 600px) {\n    border-right: none;\n  }\n`\n\nexport const UserInfo = styled.span`\n  font-size: 12px;\n  color: dimgray;\n  @media (max-width: 600px) {\n    margin-bottom: 5px;\n  }\n`\n\n\nexport const Button = styled.button`\n  background: ${props => props.white ? \"white\" : \"mediumspringgreen\"};\n  color: ${props => props.white ? \"dimgray\" : \"black\"};\n  padding: 5px 8px;\n  margin: 1px 1px;\n  border: 1px solid rgba(180, 180, 180, 0.8);\n  border-radius: 2px;\n  cursor: pointer;\n`\n\nexport const Input = styled.input`\n  padding: 5px;\n  margin: 1px 1px;\n  width: ${props => props.wide ? \"66%\" : \"99%\"};\n  &:focus {\n    background-color: springgreen;\n  }\n`\n\nexport const Form = styled.form`\n  display: ${props => props.inline ? \"inline\" : \"block\"};\n  @media (max-width: 768px) {\n    display: block;\n  }\n`\n\nexport const InputGroup = styled.div`\n  display: ${props => props.inline ? \"inline-block\" : \"flex\"};\n  @media (max-width: 768px) {\n    display: block;\n  }\n`\n\nexport const Header3 = styled.h3`\n  color: dimgray;\n  font-size: 16px;\n  margin: 5px;\n`\n\nexport const StyledLink = styled(Link)`\n  margin-right: ${props => props.navlink ? \"5px\" : \"0\"};\n  color: dimgray;\n`\n\nexport const Main = styled.main`\n  margin: 10px 0;\n`\n\nexport const ContentHeader = styled.div`\n  display: flex;\n  justify-content: ${props => props.flex ? \"space-between\" : \"flex-start\"};\n  align-items: center;\n  width: 100%;\n  padding: 5px;\n  border-bottom: 1px solid springgreen;\n`\n\nexport const ContentRow = styled.div`\n  display: ${props => props.flex ? \"flex\" : \"block\"};\n  justify-content: center;\n  font-size: ${props => props.small ? \"14px\" : \"16px\"};\n  margin: ${props => props.margin ? \"5px 0\" : \"none\"};\n  padding: 0 5px;\n`\n\nexport const Highlight = styled.span`\n  background-color: springgreen;\n  border-radius: 5px;\n  padding: 0 5px;\n`\n\nexport const AlertMsg = styled.div`\n  display: flex;\n  justify-content: center;\n  align-ttems: center;\n  font-size: 18px;\n  margin: 5px 0;\n`","import React, { useState, useImperativeHandle } from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { Button } from \"../theme/styledComponents\"\n\nconst Toggler = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = {\n    display: visible ? \"none\" : \"\"\n  }\n  const showWhenVisible = {\n    display: visible ? \"\" : \"none\",\n    width: \"100%\"\n  }\n\n  const handleTogglerClick = (e) => {\n    // console.log(e.target.id)\n    if(e.target.id && e.target.id !== \"NewBlogForm\") {\n      e.target.id === \"UserControl\"\n        ? props.setActiveForm(null)\n        : props.setActiveForm(e.target.id)\n    }\n\n    toggleVisibility()\n  }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  const hide = () => {\n    setVisible(false)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility,\n      hide\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <Button id={props.buttonId} className={props.buttonClasses} onClick={handleTogglerClick}>{props.buttonLabel}</Button>\n      </div>\n      <div id=\"togglerContent\" style={showWhenVisible}>\n        {props.children}\n        <Button id={props.cancelId} onClick={handleTogglerClick}>cancel</Button>\n      </div>\n    </div>\n  )\n})\n\nToggler.displayName = \"Toggler\"\n\nToggler.propTypes ={\n  buttonLabel: PropTypes.string.isRequired,\n  buttonClasses: PropTypes.string,\n  buttonId: PropTypes.string,\n  cancelId: PropTypes.string,\n  setActiveForm: PropTypes.func\n}\n\nexport default Toggler\n","let activeAlert = null\n\nexport const setAlert = ({ message, type, duration }) => {\n  if(activeAlert) {\n    clearTimeout(activeAlert)\n  }\n\n  return async dispatch => {\n    activeAlert = setTimeout(() => {\n      dispatch({\n        type: \"REMOVE_ALERT\",\n        payload: {\n          message: null\n        }\n      })\n\n      activeAlert = null\n    }, duration * 1000)\n\n    dispatch({\n      type: \"SET_ALERT\",\n      payload: {\n        message: message,\n        type: type\n      }\n    })\n  }\n}\n\n\nconst alertReducer = (state = { message: null }, action) => {\n  switch(action.type) {\n  case \"SET_ALERT\":\n    return state = action.payload\n  case \"REMOVE_ALERT\":\n    return state = action.payload\n  default:\n    return state\n  }\n}\n\nexport default alertReducer","import React, { useState } from \"react\"\nimport { useDispatch } from \"react-redux\"\n\nimport { setAlert } from \"../reducers/alertReducer\"\nimport { createNewBlog } from \"../reducers/blogsReducer\"\n\nimport styled from \"styled-components\"\nimport {\n  Button,\n  Form,\n  Input,\n  InputGroup,\n  Header3\n} from \"../theme/styledComponents\"\n\nconst Label = styled.label`\n  display: inline-block;\n  color: dimgray;\n  width: 50px;\n  padding-right: 5px;\n`\n\nconst NewBlogForm = ({ togglerRef }) => {\n  const dispatch = useDispatch()\n\n  const [newBlogTitle, setNewBlogTitle] = useState(\"\")\n  const [newBlogAuthor, setNewBlogAuthor] = useState(\"\")\n  const [newBlogUrl, setNewBlogUrl] = useState(\"\")\n\n  const handleNewBlogFormSubmit = async (e, newBlog) => {\n    // console.log(newBlog)\n\n    e.preventDefault()\n    e.target.reset()\n    togglerRef.current.toggleVisibility()\n\n    dispatch(createNewBlog(newBlog))\n    dispatch(setAlert({\n      message: `\"${newBlog.title}\" by ${newBlog.author} added to database.`,\n      type: \"info\",\n      duration: 4\n    }))\n  } // Create new blog\n\n  return (\n    <span>\n      <Header3>Post New Blog</Header3>\n      <Form\n        id=\"newBlogForm\"\n        style={{ display:\"inline\" }}\n        onSubmit={(e) => handleNewBlogFormSubmit(e, {\n          title: newBlogTitle,\n          author: newBlogAuthor,\n          url: newBlogUrl\n        })}\n      >\n        <InputGroup>\n          <Label>title</Label>\n          <Input wide\n            id=\"newBlogTitle\"\n            type=\"text\"\n            onChange={(e) => setNewBlogTitle(e.target.value)}\n          />\n        </InputGroup>\n        <InputGroup>\n          <Label>author</Label>\n          <Input wide\n            id=\"newBlogAuthor\"\n            type=\"text\"\n            onChange={(e) => setNewBlogAuthor(e.target.value)}\n          />\n        </InputGroup>\n        <InputGroup>\n          <Label>url</Label>\n          <Input wide\n            id=\"newBlogUrl\"\n            type=\"text\"\n            onChange={(e) => setNewBlogUrl(e.target.value)}\n          />\n        </InputGroup>\n        <Label />\n        <Button type=\"submit\">post</Button>\n      </Form>\n    </span>\n  )\n}\n\nexport default NewBlogForm\n","import React, { useRef } from \"react\"\nimport { useSelector } from \"react-redux\"\n\nimport Toggler from \"./Toggler\"\nimport NewBlogForm from \"./NewBlogForm\"\n\nimport {\n  StyledLink,\n  Main,\n  ContentHeader,\n  ContentRow,\n  Highlight\n} from \"../theme/styledComponents\"\n\nconst Blogs = () => {\n  const blogs = useSelector(state => state.blogs)\n\n  const newBlogFormRef = useRef()\n\n  return (\n    <Main>\n      <ContentHeader>\n        <Toggler\n          buttonLabel=\"Post New Blog\"\n          buttonClasses=\"\"\n          cancelId=\"NewBlogForm\"\n          ref={newBlogFormRef}\n        >\n          <NewBlogForm togglerRef={newBlogFormRef}/>\n        </Toggler>\n      </ContentHeader>\n      <ContentRow flex><Highlight>blogs</Highlight></ContentRow>\n      {blogs.map(blog =>\n        <ContentRow margin key={blog.id}>\n          <StyledLink to={`/blogs/${blog.id}`}>{blog.title}</StyledLink>\n        </ContentRow>\n      )}\n    </Main>\n  )\n}\n\nexport default Blogs","import React, { useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useParams, Redirect } from \"react-router-dom\"\n\nimport { setAlert } from \"../reducers/alertReducer\"\nimport { likeBlog, deleteBlog, commentBlog } from \"../reducers/blogsReducer\"\n\nimport {\n  Button,\n  Main,\n  ContentHeader,\n  ContentRow,\n  Header3,\n  Form,\n  Input,\n  InputGroup,\n  Highlight\n} from \"../theme/styledComponents\"\n\nconst Blog = () => {\n  const dispatch = useDispatch()\n\n  const id = useParams().id\n  const blogs = useSelector(state => state.blogs)\n  const blog = blogs.find(blog => blog.id === id)\n\n  const user = useSelector(state => state.user)\n\n  const [comment, setComment] = useState(\"\")\n\n  // Click handlers\n  const handleBlogLikeButton = (blog) => {\n    // console.log(blog)\n\n    const likedBlog = {\n      user: blog.userId.id,\n      author: blog.author,\n      title: blog.title,\n      url: blog.url,\n      likes: blog.likes += 1\n    }\n\n    dispatch(likeBlog(blog.id, likedBlog))\n    dispatch(setAlert({\n      message: `You liked ${likedBlog.title} by ${likedBlog.author}!`,\n      type: \"info\",\n      duration: 4\n    }))\n  } // Update blog likes\n\n  const handleBlogDeleteButton = (blog) => {\n    if(window.confirm(`Delete \"${blog.title}\"?`)) {\n      dispatch(deleteBlog(blog.id))\n      dispatch(setAlert({\n        message: `\"${blog.title}\" deleted.`,\n        type: \"alert\",\n        duration: 4\n      }))\n    }\n  } // Delete blog from db\n\n  const handleCommentSubmit = (e) => {\n    e.preventDefault()\n\n    dispatch(commentBlog(blog.id, { content: comment }))\n    setComment(\"\")\n\n    e.target.reset()\n  }\n\n  if(!blog) {\n    return <Redirect to=\"/\" />\n  }\n\n  return (\n    <Main id=\"blog\">\n      <div style={{ marginBottom: \"10px\" }}>\n        <ContentHeader flex>\n          <span>{blog.title}</span>\n          <span>\n            <Button onClick={() => handleBlogLikeButton(blog)}>like</Button>\n            {user.username === blog.userId.username\n              ?\n              <Button  className=\"delete-btn\" onClick={() => handleBlogDeleteButton(blog)}>delete blog</Button>\n              :\n              <></>\n            }\n          </span>\n        </ContentHeader>\n        <ContentRow flex><Highlight>details</Highlight></ContentRow>\n        <ContentRow small>author: {blog.author}</ContentRow>\n        <ContentRow small>{blog.url}</ContentRow>\n        <ContentRow small>added by: {blog.userId.name}</ContentRow>\n        <ContentRow margin>likes: <Highlight>{blog.likes}</Highlight></ContentRow>\n      </div>\n      <Header3>Comments</Header3>\n      <ul>\n        {blog.comments.map(comment => <li key={comment.id}>{comment.content}</li>)}\n      </ul>\n      <Form inline onSubmit={handleCommentSubmit}>\n        <InputGroup>\n          <Input\n            type=\"text\"\n            placeholder=\"Add a comment..\"\n            onChange={(e) => setComment(e.target.value)}\n          />\n          <Button type=\"submit\">submit</Button>\n        </InputGroup>\n      </Form>\n    </Main>\n  )\n}\n\nexport default Blog","export const setUser = (user) => {\n  return dispatch => {\n    dispatch({\n      type: \"SET_USER\",\n      payload: user\n    })\n  }\n}\n\nconst userReducer = (state = null, action) => {\n  switch(action.type) {\n  case \"SET_USER\":\n    return state = action.payload\n  default:\n    return state\n  }\n}\n\nexport default userReducer","import React from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport PropTypes from \"prop-types\"\n\nimport { setUser } from \"../reducers/userReducer\"\nimport { setAlert } from \"../reducers/alertReducer\"\n\nimport styled from \"styled-components\"\nimport { Button, StyledLink } from \"../theme/styledComponents\"\n\n// eslint-disable-next-line no-undef\nconst app_env = process.env.REACT_APP_ENVIRONMENT\n\nconst Nav = styled.nav`\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  @media (max-width: 600px) {\n    flex-direction: column;\n    align-items: flex-start;\n    margin-left: 0;\n  }\n`\n\nconst Navbar = ({ user }) => {\n  const dispatch = useDispatch()\n\n  const logOutHandler = () => {\n    dispatch(setAlert({\n      message: `${user.name} logged out.`,\n      type: \"info\",\n      duration: 4\n    }))\n    dispatch(setUser(null))\n\n    if(app_env !== \"production\") {\n      window.localStorage.clear()\n    }\n  } // Log Out Handler\n\n  return (\n    <Nav>\n      <StyledLink navlink=\"true\" to=\"/\">blogs</StyledLink>\n      <StyledLink navlink=\"true\" to=\"/users\">users</StyledLink>\n      <Button white onClick={logOutHandler}>log out</Button>\n    </Nav>\n  )\n}\n\nNavbar.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\nexport default Navbar\n","import React, { Fragment } from \"react\"\nimport { useSelector } from \"react-redux\"\n\nimport Navbar from \"./Navbar\"\n\nimport {\n  AppHeader,\n  AppTitle,\n  UserInfo\n} from \"../theme/styledComponents\"\n\nconst Header = () => {\n  const user = useSelector(state => state.user)\n\n  return (\n    <AppHeader>\n      <AppTitle>Bloglist</AppTitle>\n      {user\n        ? <UserInfo>logged in as {user.name}</UserInfo>\n        : <Fragment />\n      }\n      {user\n        ? <Navbar user={user} />\n        : <Fragment />\n      }\n    </AppHeader>\n  )\n}\n\nexport default Header","import React, { Fragment } from \"react\"\nimport { useSelector } from \"react-redux\"\n\nimport { AlertMsg } from \"../theme/styledComponents\"\n\nconst Alert = () => {\n  const { message, type } = useSelector(state => state.alert)\n\n  const alertStyle = {\n    backgroundColor: type === \"alert\" ? \"#fffafa\" : \"#fafffa\",\n    border: type === \"alert\" ? \"2px solid #ffcccc\" : \"2px solid #ccffcc\"\n  }\n\n  if(message) {\n    return <AlertMsg style={alertStyle}>{message}</AlertMsg>\n  } else {\n    return <Fragment />\n  }\n}\n\nexport default Alert","import axios from \"axios\"\nconst baseUrl = \"/api/users\"\n\nconst getUsers = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data.sort((i,j) => j.blogsAdded.length - i.blogsAdded.length)\n}\n\nconst userService = {\n  getUsers\n}\n\nexport default userService","import userService from \"../services/users\"\n\nexport const getUsers = () => {\n  return async dispatch => {\n    const response = await userService.getUsers()\n    dispatch({\n      type: \"GET_USERS\",\n      payload: response\n    })\n  }\n}\n\nconst usersReducer = (state = [], action) => {\n  switch(action.type) {\n  case \"GET_USERS\":\n    return state = action.payload\n  default:\n    return state\n  }\n}\n\nexport default usersReducer","import axios from \"axios\"\nconst baseUrl = \"/api/login\"\n\nconst logIn = async (user) => {\n  const response = await axios.post(baseUrl, user)\n  return response.data\n}\n\nconst loginService = {\n  logIn\n}\n\nexport default loginService","import React, { useState } from \"react\"\nimport { useDispatch } from \"react-redux\"\n\nimport { setUser } from \"../reducers/userReducer\"\nimport { getUsers } from \"../reducers/usersReducer\"\nimport { setAlert } from \"../reducers/alertReducer\"\nimport loginService from \"../services/login\"\nimport blogService from \"../services/blogs\"\n\nimport { Button, Input, Form, InputGroup } from \"../theme/styledComponents\"\n\n// eslint-disable-next-line no-undef\nconst app_env = process.env.REACT_APP_ENVIRONMENT\n\nconst LoginForm = () => {\n  const dispatch = useDispatch()\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  const logInHandler = async (e) => {\n    e.preventDefault()\n\n    // console.log(username, password)\n    try {\n      const user = await loginService.logIn({ username, password })\n      dispatch(setUser(user))\n      dispatch(getUsers())\n      blogService.setToken(user.token)\n\n      // If app environment !production store user to local storage\n      if(app_env !== \"production\") {\n        window.localStorage.setItem(\"loggedBloglistUser\", JSON.stringify(user))\n      }\n\n      dispatch(setAlert({\n        message: `${user.name} logged in.`,\n        type: \"info\",\n        duration: 4\n      }))\n    }\n    catch(error) {\n      console.log(error.message)\n\n      dispatch(setAlert({\n        message: \"Invalid username or password.\",\n        type: \"alert\",\n        duration: 4\n      }))\n    }\n  } // Log In Handler\n\n  return (\n    <Form inline onSubmit={logInHandler}>\n      <InputGroup inline>\n        <Input\n          id=\"loginUsernameInput\"\n          type=\"text\"\n          placeholder=\"username\"\n          onChange={(e) => setUsername(e.target.value)}\n        />\n      </InputGroup>\n      <InputGroup inline>\n        <Input\n          id=\"loginPasswordInput\"\n          type=\"password\"\n          placeholder=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </InputGroup>\n      <Button id=\"loginBtn\" type=\"submit\">log in</Button>\n    </Form>\n  )\n}\n\nexport default LoginForm\n","import axios from \"axios\"\nconst baseUrl = \"/api/users\"\n\nconst newUser = async (newUser) => {\n  const response = await axios.post(baseUrl, newUser)\n  return response.data\n}\n\nconst signupService = {\n  newUser\n}\n\nexport default signupService","import React, { useState } from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport PropTypes from \"prop-types\"\n\nimport { setAlert } from \"../reducers/alertReducer\"\nimport signupService from \"../services/signup\"\n\nimport { Button, Input, Form, InputGroup } from \"../theme/styledComponents\"\n\nconst SignUpForm = ({ setActiveForm }) => {\n  const dispatch = useDispatch()\n\n  const [name, setName] = useState(\"\")\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  const signUpHandler = async (e) => {\n    e.preventDefault()\n\n    const newUserObj = {\n      name,\n      username,\n      password\n    }\n\n    try {\n      const response = await signupService.newUser(newUserObj)\n      dispatch(setAlert({\n        message: `${response.username} signed up succesfully.`,\n        type: \"info\",\n        duration: 4\n      }))\n      setActiveForm(null)\n    }\n    catch(error) {\n      console.log(error.message)\n      dispatch(setAlert({\n        message: \"Sign up failed!\",\n        type: \"alert\",\n        duration: 4\n      }))\n    }\n\n    e.target.reset()\n  }\n\n  return (\n    <Form inline onSubmit={signUpHandler}>\n      <InputGroup inline>\n        <Input\n          type=\"text\"\n          placeholder=\"name\"\n          onChange={(e) => setName(e.target.value)}\n        />\n      </InputGroup>\n      <InputGroup inline>\n        <Input\n          type=\"text\"\n          placeholder=\"username\"\n          onChange={(e) => setUsername(e.target.value)}\n        />\n      </InputGroup>\n      <InputGroup inline>\n        <Input\n          type=\"password\"\n          placeholder=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </InputGroup>\n      <Button id=\"submitSignupBtn\" type=\"submit\">sign up</Button>\n    </Form>\n  )\n}\n\nSignUpForm.propTypes = {\n  setActiveForm: PropTypes.func.isRequired\n}\n\nexport default SignUpForm\n","import React, { useState, useEffect, useRef } from \"react\"\nimport { useDispatch } from \"react-redux\"\n\nimport { setUser } from \"../reducers/userReducer\"\nimport blogService from \"../services/blogs\"\nimport Toggler from \"./Toggler\"\nimport LoginForm from \"./LoginForm\"\nimport SignUpForm from \"./SignUpForm\"\n\nimport { Main } from \"../theme/styledComponents\"\n\n// eslint-disable-next-line no-undef\nconst app_env = process.env.REACT_APP_ENVIRONMENT\n\nconst UserControl = () => {\n  const dispatch = useDispatch()\n\n  const [activeForm, setActiveForm] = useState(null)\n  const signUpFormRef = useRef()\n  const logInFormRef = useRef()\n\n  if(app_env === \"development\") {\n    useEffect(() => {\n      const loggedUserJSON = window.localStorage.getItem(\"loggedBloglistUser\")\n\n      if(loggedUserJSON) {\n        const user = JSON.parse(loggedUserJSON)\n        dispatch(setUser(user))\n        blogService.setToken(user.token)\n      }\n    }, []) // if in dev environment load user from local storage\n  }\n\n  useEffect(() => {\n    if(activeForm === \"LogIn\") {\n      signUpFormRef.current.hide()\n    }\n    if(activeForm === \"SignUp\") {\n      logInFormRef.current.hide()\n    }\n    if(!activeForm) {\n      signUpFormRef.current.hide()\n      logInFormRef.current.hide()\n    }\n  }, [activeForm, signUpFormRef, logInFormRef])\n\n  return (\n    <Main>\n      <Toggler\n        buttonLabel=\"login >\"\n        buttonClasses=\"no-border-btn\"\n        buttonId=\"LogIn\"\n        cancelId=\"UserControl\"\n        setActiveForm={setActiveForm}\n        ref={logInFormRef}\n      >\n        <LoginForm />\n      </Toggler>\n      <div style={{ height: \"5px\" }}></div>\n      <Toggler\n        buttonLabel=\"sign up >\"\n        buttonClasses=\"no-border-btn\"\n        buttonId=\"SignUp\"\n        cancelId=\"UserControl\"\n        setActiveForm={setActiveForm}\n        ref={signUpFormRef}\n      >\n        <SignUpForm setActiveForm={setActiveForm} />\n      </Toggler>\n    </Main>\n  )\n}\n\nexport default UserControl\n","import React from \"react\"\nimport { useSelector } from \"react-redux\"\n\nimport {\n  Main,\n  ContentHeader,\n  ContentRow,\n  StyledLink,\n  Highlight\n} from \"../theme/styledComponents\"\n\nconst Users = () => {\n  const users = useSelector(state => state.users)\n\n  return (\n    <Main>\n      <ContentHeader>Users</ContentHeader>\n      {users.map((user, index) =>\n        <ContentRow margin key={user.username}>\n          <span style={{ display: \"inline-block\", width: \"200px\" }}>\n            <StyledLink to={`/users/${user.id}`}>{user.name}</StyledLink>\n          </span>\n          <span><Highlight>{user.blogsAdded.length}</Highlight>{index === 0 ? \" blogs added\" : \"\"}</span>\n        </ContentRow>\n      )}\n    </Main>\n  )\n}\n\nexport default Users","import React from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { useParams } from \"react-router-dom\"\n\nimport {\n  Main,\n  ContentHeader,\n  ContentRow,\n  Highlight\n} from \"../theme/styledComponents\"\n\nconst User = () => {\n  const id = useParams().id\n  const users = useSelector(state => state.users)\n  const user = users.find(user => user.id === id)\n\n  if(!user) {\n    return null\n  }\n\n  return (\n    <Main>\n      <ContentHeader>{user.name}</ContentHeader>\n      {user.blogsAdded.length !== 0 ? <ContentRow flex><Highlight>blogs added</Highlight></ContentRow> : \"\"}\n      {user.blogsAdded.map(blog =>\n        <ContentRow margin key={blog.id}>{blog.title}</ContentRow>\n      )}\n    </Main>\n  )\n}\n\nexport default User","import React, { useEffect } from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport {\n  BrowserRouter as Router, Switch, Route, Redirect\n} from \"react-router-dom\"\n\nimport { getBlogs } from \"./reducers/blogsReducer\"\n\nimport Blogs from \"./components/Blogs\"\nimport Blog from \"./components/Blog\"\nimport Header from \"./components/Header\"\nimport Alert from \"./components/Alert\"\nimport UserControl from \"./components/UserControl\"\nimport Users from \"./components/Users\"\nimport User from \"./components/User\"\n\nimport { Container } from \"./theme/styledComponents\"\n\nconst App = () => {\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n\n  useEffect(() => {\n    dispatch(getBlogs())\n  }, []) // Load all blogs from db on page load\n\n  return (\n    <Container>\n      <Router>\n        <Header />\n        <Alert />\n        <Switch>\n          <Route path=\"/users/:id\">\n            {user ? <User /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route path=\"/users\">\n            {user ? <Users /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route path=\"/blogs/:id\">\n            {user ? <Blog /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route path=\"/\">\n            {user\n              ? <Blogs />\n              : <UserControl />\n            }\n          </Route>\n        </Switch>\n      </Router>\n    </Container>\n  )\n}\n\nexport default App","import { createStore, combineReducers, applyMiddleware } from \"redux\"\nimport thunk from \"redux-thunk\"\nimport { composeWithDevTools } from \"redux-devtools-extension\"\nimport alertReducer from \"./reducers/alertReducer\"\nimport userReducer from \"./reducers/userReducer\"\nimport usersReducer from \"./reducers/usersReducer\"\nimport blogsReducer from \"./reducers/blogsReducer\"\n\nconst reducers = combineReducers({\n  alert: alertReducer,\n  blogs: blogsReducer,\n  user: userReducer,\n  users: usersReducer\n})\n\nconst store = createStore(reducers, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport App from \"./App\"\nimport store from \"./store\"\nimport \"./index.css\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n)"],"sourceRoot":""}